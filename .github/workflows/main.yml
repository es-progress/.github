name: CI
on:
  pull_request:
    branches:
      - main
    paths:
      - "**.yml"
jobs:
  format:
    name: Check format
    uses: ./.github/workflows/prettier.yml
    with:
      pattern: "**/*.yml"
  test-beautysh:
    name: Test workflow (beautysh)
    needs: format
    uses: ./.github/workflows/beautysh.yml
    with:
      dir: tests/workflows
      params: --force-function-style fnpar --indent-size 2
